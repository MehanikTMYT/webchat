import{r as e,c as a,a as l,o as s,b as r,l as t,z as o,A as n,g as d,t as u,e as c,w as i,f as m,m as p}from"./vendor-CHByjYQ3.js";import{_ as f,u as v}from"./index-yKdpQjmR.js";const b={class:"auth-container flex flex-col items-center justify-center p-6"},y={class:"card w-full max-w-md"},g={class:"card-body"},h={class:"form-group"},x={class:"form-group"},w={class:"form-group"},_={class:"form-group"},V=["disabled"],j={key:0,class:"material-icons"},k={key:1,class:"material-icons"},q={class:"card-footer text-center"},U=f({__name:"RegisterView",setup(f){const U=p(),P=v(),z=e(""),A=e(""),I=e(""),R=e(!1),S=a(()=>A.value===I.value||""===I.value),B=async()=>{if(S.value)try{R.value=!0,await P.register(z.value,A.value),U.push("/chat")}catch(e){alert("Ошибка регистрации: "+(e.message||"Не удалось создать аккаунт"))}finally{R.value=!1}else alert("Пароли не совпадают")};return(e,a)=>{const p=m("router-link");return s(),l("div",b,[r("div",y,[a[8]||(a[8]=r("div",{class:"card-header text-center"},[r("h2",{class:"text-2xl font-bold mb-2"},"Регистрация"),r("p",{class:"text-secondary"},"Создайте новый аккаунт")],-1)),r("div",g,[r("form",{onSubmit:t(B,["prevent"])},[r("div",h,[a[3]||(a[3]=r("label",{for:"username",class:"form-label"},"Имя пользователя",-1)),o(r("input",{id:"username","onUpdate:modelValue":a[0]||(a[0]=e=>z.value=e),type:"text",class:"form-control",placeholder:"Выберите имя пользователя",required:"",minlength:"3",maxlength:"30"},null,512),[[n,z.value]])]),r("div",x,[a[4]||(a[4]=r("label",{for:"password",class:"form-label"},"Пароль",-1)),o(r("input",{id:"password","onUpdate:modelValue":a[1]||(a[1]=e=>A.value=e),type:"password",class:"form-control",placeholder:"Создайте пароль",required:"",minlength:"6"},null,512),[[n,A.value]])]),r("div",w,[a[5]||(a[5]=r("label",{for:"confirmPassword",class:"form-label"},"Подтвердите пароль",-1)),o(r("input",{id:"confirmPassword","onUpdate:modelValue":a[2]||(a[2]=e=>I.value=e),type:"password",class:"form-control",placeholder:"Повторите пароль",required:""},null,512),[[n,I.value]])]),r("div",_,[r("button",{type:"submit",class:"btn btn-secondary btn-lg w-full",disabled:R.value},[R.value?(s(),l("i",j,"hourglass_empty")):(s(),l("i",k,"person_add")),d(" "+u(R.value?"Регистрация...":"Зарегистрироваться"),1)],8,V)])],32)]),r("div",q,[r("p",null,[a[7]||(a[7]=d("Уже есть аккаунт? ",-1)),c(p,{to:"/login",class:"text-primary hover:underline"},{default:i(()=>[...a[6]||(a[6]=[d("Войти",-1)])]),_:1})])])])])}}},[["__scopeId","data-v-b90509e9"]]);export{U as default};
