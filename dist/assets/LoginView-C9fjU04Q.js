import{r as a,a as e,o as s,b as l,l as r,z as t,A as o,g as c,t as n,e as u,w as d,f as i,m,q as p}from"./vendor-CHByjYQ3.js";import{_ as f,u as v}from"./index-yKdpQjmR.js";const b={class:"auth-container flex flex-col items-center justify-center p-6"},y={class:"card w-full max-w-md"},x={class:"card-body"},g={class:"form-group"},h={class:"form-group"},w={class:"form-group"},_=["disabled"],q={key:0,class:"material-icons"},j={key:1,class:"material-icons"},k={class:"card-footer text-center"},V=f({__name:"LoginView",setup(f){const V=m(),U=p(),z=v(),A=a(""),I=a(""),L=a(!1),S=async()=>{try{L.value=!0,await z.login(A.value,I.value);const a=U.query.redirect||"/chat";V.push(a)}catch(a){alert("Ошибка входа: "+(a.message||"Неверные учетные данные"))}finally{L.value=!1}};return(a,m)=>{const p=i("router-link");return s(),e("div",b,[l("div",y,[m[6]||(m[6]=l("div",{class:"card-header text-center"},[l("h2",{class:"text-2xl font-bold mb-2"},"Вход в систему"),l("p",{class:"text-secondary"},"Используйте ваши учетные данные для входа")],-1)),l("div",x,[l("form",{onSubmit:r(S,["prevent"])},[l("div",g,[m[2]||(m[2]=l("label",{for:"username",class:"form-label"},"Имя пользователя",-1)),t(l("input",{id:"username","onUpdate:modelValue":m[0]||(m[0]=a=>A.value=a),type:"text",class:"form-control",placeholder:"Введите имя пользователя",required:""},null,512),[[o,A.value]])]),l("div",h,[m[3]||(m[3]=l("label",{for:"password",class:"form-label"},"Пароль",-1)),t(l("input",{id:"password","onUpdate:modelValue":m[1]||(m[1]=a=>I.value=a),type:"password",class:"form-control",placeholder:"Введите пароль",required:""},null,512),[[o,I.value]])]),l("div",w,[l("button",{type:"submit",class:"btn btn-primary btn-lg w-full",disabled:L.value},[L.value?(s(),e("i",q,"hourglass_empty")):(s(),e("i",j,"login")),c(" "+n(L.value?"Вход...":"Войти"),1)],8,_)])],32)]),l("div",k,[l("p",null,[m[5]||(m[5]=c("Нет аккаунта? ",-1)),u(p,{to:"/register",class:"text-primary hover:underline"},{default:d(()=>[...m[4]||(m[4]=[c("Зарегистрироваться",-1)])]),_:1})])])])])}}},[["__scopeId","data-v-13e9f834"]]);export{V as default};
